# Procedure\_Occurrence Table

|                                |                         |          |                                                                                                                                                                                                                                                                                                                                           |
|--------------------------------|-------------------------|----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Field**                      | **Required For Export** | **Type** | **Description**                                                                                                                                                                                                                                                                                                                           |
| procedure\_occurrence\_id      | Yes                     | integer  | A system-generated unique identifier for each Procedure Occurrence.                                                                                                                                                                                                                                                                       |
| person\_id                     | Yes                     | integer  | A foreign key identifier to the Person who is subjected to the Procedure. The demographic details of that Person are stored in the PERSON table.                                                                                                                                                                                          |
| procedure\_concept\_id         | Yes                     | integer  | A foreign key that refers to a standard procedure Concept identifier in the Standardized Vocabularies.                                                                                                                                                                                                                                    

                                                                       This field contains a standard, valid OMOP concept ID. It is derived from the procedure\_source\_concept\_id. The CPT-4 terminology tends to be the standard for the procedure domain (table).                                                                                                                                             

                                                                       If your source data is a standard terminology, then it needs to be converted to a standard concept. The below query finds the standard concept that the PROCEDURE\_SOURCE\_CONCEPT\_ID maps to.                                                                                                                                            

                                                                       select c2.concept\_id                                                                                                                                                                                                                                                                                                                      

                                                                       from concept c1                                                                                                                                                                                                                                                                                                                            

                                                                       join  concept\_relationship cr ON c1.concept\_id = cr.concept\_id\_1                                                                                                                                                                                                                                                                       
                                                                       and cr.relationship\_id = 'Maps to'                                                                                                                                                                                                                                                                                                        

                                                                       join concept c2 ON c2.concept\_id = cr.concept\_id\_2                                                                                                                                                                                                                                                                                      

                                                                       where c1.concept\_id = &lt;PROCEDURE\_SOURCE\_CONCEPT\_ID&gt;                                                                                                                                                                                                                                                                              

                                                                       and c2.standard\_concept = 'S'                                                                                                                                                                                                                                                                                                             

                                                                       and c2.invalid\_reason is null                                                                                                                                                                                                                                                                                                             

                                                                       and c2.domain\_id='Procedure'                                                                                                                                                                                                                                                                                                              |
| procedure\_date                | Yes                     | date     | The date on which the Procedure was performed.                                                                                                                                                                                                                                                                                            |
| procedure\_datetime            | Yes                     | datetime | The date and time on which the Procedure was performed.                                                                                                                                                                                                                                                                                   

                                                                       The datetime (or timestamp) will be represented as a string for the export file. The format will be in ISO 8601 where time is represented in UTC with time offset in the extended format - \[hh\]:\[mm\]:\[ss\] -                                                                                                                          

                                                                       (<https://en.wikipedia.org/wiki/ISO_8601#Combined_date_and_time_representations)>. NOTE: for datetimes where the time is not known assume midnight (00:00 time). For example in Eastern time, UTC would be represented as 00:00:00-05:00. Please refer to all UTC offsets here: <https://en.wikipedia.org/wiki/List_of_UTC_time_offsets>.  |
| procedure\_type\_concept\_id   | No                      | integer  | A foreign key to the predefined Concept identifier in the Standardized Vocabularies reflecting the type of source data from which the procedure record is derived.                                                                                                                                                                        

                                                                       Using this table of allowable concept IDs, fill in the appropriate value for this field:                                                                                                                                                                                                                                                   

                                                                       | Concept ID | Description         |                                                                                                                                                                                                                                                                                                       
                                                                       |------------|---------------------|                                                                                                                                                                                                                                                                                                       
                                                                       | 44786630   | Primary Procedure   |                                                                                                                                                                                                                                                                                                       
                                                                       | 44786631   | Secondary Procedure |                                                                                                                                                                                                                                                                                                       
                                                                       | 0          | Unknown             |                                                                                                                                                                                                                                                                                                       |
| modifier\_concept\_id          | No                      | integer  | A foreign key to a Standard Concept identifier for a modifier to the Procedure (e.g. bilateral).                                                                                                                                                                                                                                          

                                                                       Set to 0 for this data sprint.                                                                                                                                                                                                                                                                                                             |
| quantity                       | No                      | integer  | The quantity of procedures ordered or administered.                                                                                                                                                                                                                                                                                       |
| provider\_id                   | No                      | integer  | Set to 0 for this data sprint.                                                                                                                                                                                                                                                                                                            |
| visit\_occurrence\_id          | Yes                     | integer  | A foreign key to the visit in the visit table during which the Procedure was carried out.                                                                                                                                                                                                                                                 |
| procedure\_source\_value       | Yes                     | varchar  | The source code for the Procedure as it appears in the source data.                                                                                                                                                                                                                                                                       

                                                                       Procedure source codes are typically ICD9Proc, CPT-4, HCPCS or OPCS-4 codes.                                                                                                                                                                                                                                                               |
| procedure\_source\_concept\_id | Yes                     | integer  | A foreign key to a Procedure Concept that refers to the code used in the source.                                                                                                                                                                                                                                                          

                                                                       This field contains the OMOP concept ID that corresponds to the procedure code in the source system. Below is a query that would retrieve the concept id for the ICD9 procedure code for extracorporeal shockwave lithotripsy (98.51)                                                                                                      

                                                                       select concept\_id                                                                                                                                                                                                                                                                                                                         

                                                                       from concept as c                                                                                                                                                                                                                                                                                                                          

                                                                       where c.concept\_code = '98.51' and                                                                                                                                                                                                                                                                                                        

                                                                       c.invalid\_reason IS NULL and                                                                                                                                                                                                                                                                                                              

                                                                       c.domain\_id='Procedure'                                                                                                                                                                                                                                                                                                                   |
| qualifier\_source\_value       | No                      | varchar  | The source code for the qualifier as it appears in the source data.                                                                                                                                                                                                                                                                       |

<http://www.ohdsi.org/web/wiki/doku.php?id=documentation:cdm:procedure_occurrence>

The procedure code for the ambulatory surgery was extracorporeal shockwave lithotripsy (98.51). The following row would be exported for the procedure occurrence table:

Amb surg visit 

    "1","1","2008219","2016-01-01","2016-01-01T10:00:00-05:00","44786630","0","","0","4","98.51","2008219",""
